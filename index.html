<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="description"
        content="P√°gina oficial de la Cuasiparroquia Nuestra Se√±ora de Coromoto. Encuentra horarios de misas, actividades, sacramentos, y formas de contacto y donaci√≥n.">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" href="favicon.svg" type="image/svg+xml">

    <link rel="manifest" href="manifest.json">
    <meta name="theme-color" content="#800020">

    <title>Cuasiparroquia Nuestra Se√±ora de Coromoto</title>
    <link rel="stylesheet" href="style.css">    
</head>

<body>

    <!-- ENCABEZADO -->
    <header class="encabezado">
        <div class="contenedor-central">
            <div class="logo">
                <p class="titulo-secundario">CUASIPARROQUIA m</p>
                <h1 class="titulo-principal">Nuestra Se√±ora de Coromoto</h1>
            </div>
            <nav class="navegacion">
                <ul>
                    <li><a href="#inicio">Inicio</a></li>
                    <li><a href="#historia">Historia</a></li>
                    <li><a href="#horarios">Horarios</a></li>
                    <li><a href="#sacramentos">Sacramentos</a></li>
                    <li><a href="#apostolado">Apostolado</a></li>
                    <li><a href="#obras">Obras</a></li>
                    <li><a href="#contactos">Contacto</a></li>
                </ul>
            </nav>
            <button class="boton-hamburguesa" aria-label="Abrir men√∫" aria-expanded="false">
                <span class="linea"></span>
                <span class="linea"></span>
                <span class="linea"></span>
            </button>
        </div>
    </header>

    <main>
        <!-- INICIO -->
        <section id="inicio" class="seccion">
            <div class="contenedor-central">
                <div id="contenedor-instalar">
                    <button id="boton-instalar">
                        üì• Instalar Aplicaci√≥n
                    </button>
                </div>
                <h2 class="titulo-seccion">Bienvenidos</h2>
                <div class="subseccion">
                    <h3 class="titulo-subseccion">Comunidad de comunidades<span class="icono"
                            aria-hidden="true">‚õ™</span></h3>
                    <div class="subseccion-texto">
                        <p>Nos alegra abrir este espacio virtual para compartir nuestra vida comunitaria bajo el amparo de Nuestra Se√±ora de Coromoto. Aqu√≠ encontrar√°s horarios de celebraciones, actividades especiales y servicios pastorales.
                        <br><br>Esta p√°gina tambi√©n es una invitaci√≥n a participar, aportar tus dones y formar parte activa de esta familia de fe. Juntos, construimos una comunidad m√°s fuerte y unida en el amor de Cristo.
                        <br><br>¬°Explora, invol√∫crate y si√©ntete en casa!</p>
                    </div>
                </div>
                <div class="subseccion">
                    <h3 class="titulo-subseccion">Pr√≥ximas actividades<span class="icono" aria-hidden="true">üóìÔ∏è</span>
                    </h3>
                    <div class="carrusel-contenedor">
                        <div class="contenedor-actividades">
                            <div class="tarjeta-actividad">
                                <div class="actividad-fecha"><span class="dia">22</span><span class="mes">JUN</span>
                                </div>
                                <div class="actividad-info">
                                    <h4>Concierto con Abba</h4>
                                    <p>Domingo, a las 10:30 AM<br>En la Capilla San Jos√©</p>
                                </div>
                            </div>
                            <div class="tarjeta-actividad">
                                <div class="actividad-fecha"><span class="dia">23</span><span class="mes">JUN</span>
                                </div>
                                <div class="actividad-info">
                                    <h4>Procesi√≥n Corpus Christi</h4>
                                    <p>Lunes, a la 1:00 PM<br>En la Capilla San Jos√©</p>
                                </div>
                            </div>
                            <div class="tarjeta-actividad">
                                <div class="actividad-fecha"><span class="dia">24</span><span class="mes">JUN</span>
                                </div>
                                <div class="actividad-info">
                                    <h4>Procesi√≥n Corpus Christi</h4>
                                    <p>Lunes, a la 1:00 PM<br>En la Capilla San Jos√©</p>
                                </div>
                            </div>
                            <div class="tarjeta-actividad">
                                <div class="actividad-fecha"><span class="dia">26</span><span class="mes">JUN</span>
                                </div>
                                <div class="actividad-info">
                                    <h4>Procesi√≥n Corpus Christi</h4>
                                    <p>Lunes, a la 1:00 PM<br>En la Capilla San Jos√©</p>
                                </div>
                            </div>
                            <div class="tarjeta-actividad">
                                <div class="actividad-fecha"><span class="dia">28</span><span class="mes">JUN</span>
                                </div>
                                <div class="actividad-info">
                                    <h4>Reuni√≥n de Catequistas</h4>
                                    <p>S√°bado, a las 3:00 PM<br>En la Casa del Amigo</p>
                                </div>
                            </div>
                        </div>
                        <button id="carrusel-btn-prev" class="carrusel-boton" aria-label="Actividad anterior">‚Äπ</button>
                        <button id="carrusel-btn-next" class="carrusel-boton"
                            aria-label="Siguiente actividad">‚Ä∫</button>
                        <div class="actividades-indicadores carrusel-indicadores"></div>
                    </div>
                </div>
            </div>
        </section>

        <!-- HISTORIA -->
        <section id="historia" class="seccion">
            <div class="contenedor-central">
                <h2 class="titulo-seccion">Historia</h2>
                <div class="subseccion">
                    <h3 class="titulo-subseccion">Breve rese√±a<span class="icono" aria-hidden="true">üìú</span></h3>
                    <div class="subseccion-texto">
                        <p>Desde los a√±os 70, el Padre Luis Mar√≠a Igart√∫a impuls√≥ la vida pastoral en comunidades perif√©ricas de Los Teques, fundando capillas a lo largo de su geograf√≠a y una "Escuela Granja" en la comunidad de Guaremal. En los 90, su obra floreci√≥ en el "Complejo Casa del Amigo", que hoy d√≠a alberga servicios m√©dicos, educativos, hogar para los abuelos y la Capilla San Jos√©.
                        <br><br>Tras su fallecimiento en 2008, su legado continu√≥ con los Padres Donato Porras y Jos√© Antonio Ugartemend√≠a. En 2012, la comunidad fue elevada a Cuasiparroquia por el Obispo, Monse√±or Freddy Jes√∫s Fuenmayor. Actualmente, el Di√°cono Arcenis Soto es su Delegado Pastoral.
                        <br><br>La Cuasiparroquia abarca 14 km de la Carretera Panamericana, desde Los Alpes hasta los l√≠mites con el estado bolivariano de Aragua, con sus sectores y caser√≠os. Cuenta con cinco capillas activas, y entre ellas, la Capilla San Jos√© es la sede principal.</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- HORARIOS -->
        <section id="horarios" class="seccion">
            <div class="contenedor-central">
                <h2 class="titulo-seccion">Horarios</h2>
                <div class="carrusel-contenedor">
                    <div class="contenedor-tarjetas">
                        <div class="tarjeta-base tarjeta-horario">
                            <h4 class="tarjeta-titulo">Capilla Nuestra<br>Se√±ora del Carmen</h4>
                            <table class="tabla-horarios"><tbody><tr><td class="hora">08:00am</td><td>Conversatorio de la Fe.</td></tr><tr><td class="hora">08:30am</td><td>Celebraci√≥n de la Palabra.</td></tr><tr><td class="hora">09:30am</td><td>Catequesis.</td></tr></tbody></table>
                            <div class="foto-contenedor">
                                <div class="foto-placeholder">
                                    Foto
                                </div>
                            </div>
                        </div>
                        <div class="tarjeta-base tarjeta-horario">
                            <h4 class="tarjeta-titulo">Capilla Nuestra<br>Se√±ora de la Asunci√≥n</h4>
                            <table class="tabla-horarios"><tbody><tr><td class="hora">09:00am</td><td>Catequesis.</td></tr><tr><td class="hora">10:00am</td><td>Conversatorio de la Fe.</td></tr><tr><td class="hora">10:30am</td><td>Celebraci√≥n de la Palabra.</td></tr></tbody></table>
                            <div class="foto-contenedor">
                                <div class="foto-placeholder">
                                    Foto
                                </div>
                            </div>
                        </div>
                        <div class="tarjeta-base tarjeta-horario">
                            <h4 class="tarjeta-titulo">Capilla Nuestra<br>Se√±ora de los Dolores</h4>
                            <table class="tabla-horarios"><tbody><tr><td class="hora">02:00pm</td><td>Conversatorio de la Fe.</td></tr><tr><td class="hora">02:30pm</td><td>Celebraci√≥n de la Palabra.</td></tr><tr><td class="hora">03:30pm</td><td>Catequesis.</td></tr></tbody></table>
                            <div class="foto-contenedor">
                                <div class="foto-placeholder">
                                    Foto
                                </div>
                            </div>
                        </div>
                        <div class="tarjeta-base tarjeta-horario">
                            <h4 class="tarjeta-titulo">Capilla Jes√∫s de la<br>Divina Misericordia</h4>
                            <table class="tabla-horarios"><tbody><tr><td class="hora">04:00pm</td><td>Conversatorio de la Fe.</td></tr><tr><td class="hora">04:30pm</td><td>Celebraci√≥n de la Palabra.</td></tr><tr><td class="hora">05:30pm</td><td>Catequesis.</td></tr></tbody></table>
                            <div class="foto-contenedor">
                                <div class="foto-placeholder">
                                    Foto
                                </div>
                            </div>
                        </div>
                        <div class="tarjeta-base tarjeta-horario">
                            <h4 class="tarjeta-titulo">Comunidad<br>Mar√≠a Auxiliadora</h4>
                            <table class="tabla-horarios"><tbody><tr><td class="hora">05:00pm</td><td>Catequesis.</td></tr><tr><td class="hora">06:00pm</td><td>Conversatorio de la Fe.</td></tr><tr><td class="hora">06:30pm</td><td>Celebraci√≥n de la Palabra.</td></tr></tbody></table>
                            <div class="foto-contenedor">
                                <div class="foto-placeholder">
                                    Foto
                                </div>
                            </div>
                        </div>
                        <div class="tarjeta-base tarjeta-horario">
                            <h4 class="tarjeta-titulo">Capilla<br>San Jos√©</h4>
                            <table class="tabla-horarios"><tbody><tr><td class="hora">10:30am</td><td>Catequesis.</td></tr><tr><td class="hora">10:30am</td><td>Conversatorio de la Fe.</td></tr><tr><td class="hora">12:00pm</td><td>Celebraci√≥n de la Palabra.</td></tr></tbody></table>
                            <div class="foto-contenedor">
                                <div class="foto-placeholder">
                                    Foto
                                </div>
                            </div>
                        </div>
                    </div>
                    <button id="horarios-btn-prev" class="carrusel-boton" aria-label="Horario anterior">‚Äπ</button>
                    <button id="horarios-btn-next" class="carrusel-boton" aria-label="Siguiente Horario">‚Ä∫</button>
                    <div class="horarios-indicadores carrusel-indicadores"></div>
                </div>
            </div>
        </section>

        <!-- SACRAMENTOS -->
        <section id="sacramentos" class="seccion">
            <div class="contenedor-central">
                <h2 class="titulo-seccion">Sacramentos</h2>
                <div class="carrusel-contenedor">
                    <div class="contenedor-tarjetas">
                        <div class="tarjeta-base tarjeta-sacramentos"><h4 class="tarjeta-titulo">Bautizo <span aria-hidden="true">üïäÔ∏è</span></h4><ul><li>Partida de nacimiento del ni√±o/a.</li><li>C√©dula de identidad de los padrinos.</li><li>01 padrino y 01 madrina, cat√≥licos.</li></ul><p>Presente estos documentos en la Capilla a la que pertenece para coordinar.</p>
                            <div class="foto-contenedor">
                                <div class="foto-placeholder">
                                    Foto
                                </div>
                            </div>
                        </div>
                        <div class="tarjeta-base tarjeta-sacramentos"><h4 class="tarjeta-titulo">Comuni√≥n <span aria-hidden="true">üçû</span></h4><ul><li>Fe de Bautismo.</li><li>Representante legal.</li><li>Asistir a la catequesis (2 a√±os).</li></ul><p>Inscripciones durante el mes de octubre, en la Capilla a la que pertenece.</p>
                            <div class="foto-contenedor">
                                <div class="foto-placeholder">
                                    Foto
                                </div>
                            </div>
                        </div>
                        <div class="tarjeta-base tarjeta-sacramentos"><h4 class="tarjeta-titulo">Confirmaci√≥n <span aria-hidden="true">üî•</span></h4><ul><li>Bautismo y Comuni√≥n.</li><li>Edad m√≠nima de 13 a√±os.</li><li>Asistir la Catequesis (1 a√±o).</li></ul><p>Inscripciones durante el mes de octubre, en la Capilla a la que pertenece.</p>
                            <div class="foto-contenedor">
                                <div class="foto-placeholder">
                                    Foto
                                </div>
                            </div>
                        </div>
                        <div class="tarjeta-base tarjeta-sacramentos"><h4 class="tarjeta-titulo">Confesi√≥n <span aria-hidden="true">üôè</span></h4><ul><li>Haber recibido el Bautismo.</li><li>Acercarse con coraz√≥n arrepentido.</li><li>Prop√≥sito de no volver a pecar.</li></ul><p>En las visitas que algunos sacerdotes, a veces hacen a nuestras comunidades, se puede solicitar el sacramento.</p>
                            <div class="foto-contenedor">
                                <div class="foto-placeholder">
                                    Foto
                                </div>
                            </div>
                        </div>
                        <div class="tarjeta-base tarjeta-sacramentos"><h4 class="tarjeta-titulo">Unci√≥n de los enfermos <span aria-hidden="true">üåø</span></h4><ul><li>Haber recibido el Bautismo.</li><li>Para enfermedad o edad avanzada.</li><li>Solicitar al Delegado Pastoral.</li></ul><p>Se ha coordinar, seg√∫n disponibilidad, con el Delegado Pastoral y los sacerdotes de nuestra Di√≥cesis.</p>
                            <div class="foto-contenedor">
                                <div class="foto-placeholder">
                                    Foto
                                </div>
                            </div>
                        </div>
                        <div class="tarjeta-base tarjeta-sacramentos"><h4 class="tarjeta-titulo">Matrimonio <span aria-hidden="true">üíç</span></h4><ul><li>Fe de Bautismo.</li><li>Constancia de confirmaci√≥n.</li><li>Acta de matrimonio civil.</li></ul><p>Tras aperturar el expediente matrimonial, se coordinar√° con el Delegado Pastoral.</p>
                            <div class="foto-contenedor">
                                <div class="foto-placeholder">
                                    Foto
                                </div>
                            </div>
                        </div>
                    </div>
                    <button id="sacramentos-btn-prev" class="carrusel-boton" aria-label="Sacramento anterior">‚Äπ</button>
                    <button id="sacramentos-btn-next" class="carrusel-boton" aria-label="Siguiente Sacramento">‚Ä∫</button>
                    <div class="sacramentos-indicadores carrusel-indicadores"></div>
                </div>
            </div>
        </section>

        <!-- APOSTOLADO -->
        <section id="apostolado" class="seccion">
            <div class="contenedor-central">
                <h2 class="titulo-seccion">¬°√önete a un Grupo!</h2>
                <div class="carrusel-contenedor">
                    <div class="contenedor-tarjetas">
                        <div class="tarjeta-base tarjeta-apostolado"><h4 class="tarjeta-titulo">C√°ritas <span aria-hidden="true">‚ù§Ô∏è</span></h4><p>Ayuda fraterna y desinteresada para aquellos que m√°s lo necesitan.</p>
                            <div class="foto-contenedor">
                                <div class="foto-placeholder">
                                    Foto
                                </div>
                            </div>
                        </div>
                        <div class="tarjeta-base tarjeta-apostolado"><h4 class="tarjeta-titulo">Catequesis <span aria-hidden="true">üìñ</span></h4><p>Forma en la fe a ni√±os y j√≥venes para recibir los sacramentos de iniciaci√≥n.</p>
                            <div class="foto-contenedor">
                                <div class="foto-placeholder">
                                    Foto
                                </div>
                            </div>
                        </div>
                        <div class="tarjeta-base tarjeta-apostolado"><h4 class="tarjeta-titulo">Ministerio de M√∫sica <span aria-hidden="true">üé∂</span></h4><p>Alaba a Dios con tu voz e instrumento, enriqueciendo la liturgia con tus dones.</p>
                            <div class="foto-contenedor">
                                <div class="foto-placeholder">
                                    Foto
                                </div>
                            </div>
                        </div>
                        <div class="tarjeta-base tarjeta-apostolado"><h4 class="tarjeta-titulo">Servidores del Altar <span aria-hidden="true">üïØÔ∏è</span></h4><p>Asiste dignamente al sacerdote y al di√°cono en la celebraci√≥n lit√∫rgica.</p>
                            <div class="foto-contenedor">
                                <div class="foto-placeholder">
                                    Foto
                                </div>
                            </div>
                        </div>
                        <div class="tarjeta-base tarjeta-apostolado"><h4 class="tarjeta-titulo">Grupo Juvenil<span aria-hidden="true">üöÄ</span></h4><p>Desarrolla tus capacidades y crece en fe, amistad y acci√≥n con otros j√≥venes.</p>
                            <div class="foto-contenedor">
                                <div class="foto-placeholder">
                                    Foto
                                </div>
                            </div>   
                        </div>
                        <div class="tarjeta-base tarjeta-apostolado"><h4 class="tarjeta-titulo">Grupo M√°sters <span aria-hidden="true">‚òï</span></h4><p>Desarrolla tus capacidades y crece en fe, amistad y acci√≥n con personas adultas.</p>
                            <div class="foto-contenedor">
                                <div class="foto-placeholder">
                                    Foto
                                </div>
                            </div>
                        </div>
                    </div>
                    <button id="apostolado-btn-prev" class="carrusel-boton" aria-label="Grupo anterior">‚Äπ</button>
                    <button id="apostolado-btn-next" class="carrusel-boton" aria-label="Siguiente Grupo">‚Ä∫</button>
                    <div class="apostolado-indicadores carrusel-indicadores"></div>
                </div>
            </div>
        </section>

        <!-- OBRAS -->
        <section id="obras" class="seccion">
            <div class="contenedor-central">
                <h2 class="titulo-seccion">Obras para el Servicio</h2>
                <div class="carrusel-contenedor">
                    <div class="contenedor-tarjetas">

                        <div class="tarjeta-base tarjeta-apostolado">
                            <h4 class="tarjeta-titulo">Casa de <br>Retiros y Convivencias<span class="icono" aria-hidden="true">üè°</span></h4>
                            <p>Un espacio de paz destinado a grupos y comunidades para realizar retiros, convivencias y jornadas de formaci√≥n.</p>
                            <div class="foto-contenedor">
                                <div class="foto-placeholder">
                                    Foto
                                </div>
                            </div>
                        </div>

                        <div class="tarjeta-base tarjeta-apostolado">
                            <h4 class="tarjeta-titulo">Ancianato <br>"Casa del Amigo"<span class="icono" aria-hidden="true">üë¥</span></h4>
                            <p>Un hogar digno para adultos mayores, en el que la caridad alcanza su prop√≥sito de servicio, la ternura de Dios en cada gesto.</p>
                            <div class="foto-contenedor">
                                <div class="foto-placeholder">
                                    Foto
                                </div>
                            </div>
                        </div>

                        <div class="tarjeta-base tarjeta-apostolado">
                            <h4 class="tarjeta-titulo">Columbario <br>"Lugar de Descanso"<span class="icono" aria-hidden="true">üïäÔ∏è</span></h4>
                            <p>Un lugar sagrado donde las cenizas de nuestros seres queridos reposan en paz y la memoria se convierte en oraci√≥n.</p>
                             <div class="foto-contenedor">
                                <div class="foto-placeholder">
                                    Foto
                                </div>
                            </div>
                        </div>

                    </div>
                    <button id="obras-btn-prev" class="carrusel-boton" aria-label="Obra anterior">‚Äπ</button>
                    <button id="obras-btn-next" class="carrusel-boton" aria-label="Siguiente Obra">‚Ä∫</button>
                    <div class="obras-indicadores carrusel-indicadores"></div>
                </div>
            </div>
        </section>

        <!-- CONTACTOS -->
        <section id="contactos" class="seccion">
            <div class="contenedor-central">
                <h2 class="titulo-seccion">Contacto y Donaciones</h2>
                <div class="subseccion">
                    <h3 class="titulo-subseccion">¬°Conversemos!<span class="icono" aria-hidden="true">üìû</span></h3>
                    <p><strong>Direcci√≥n:</strong> Calle Principal de Guaremal, sector "Los Jabillos", Complejo Casa del Amigo.<br><strong>Tel√©fono:</strong> (+58) 0414-2711341.<br><strong>Email:</strong> cuasicoromoto@gmail.com</p>
                </div>
                <div class="subseccion">
                    <h3 class="titulo-subseccion">Apoya Nuestra Misi√≥n<span class="icono" aria-hidden="true">üíñ</span></h3>
                    <p>Tu generosidad nos ayuda a continuar. Puedes apoyarnos mediante transferencia o pago m√≥vil:</p>
                    <div class="carrusel-contenedor">
                        <div class="contenedor-tarjetas">
                            <div class="tarjeta-base tarjeta-contacto">
                                <h4 class="tarjeta-titulo">Dep√≥sito o Transferencias</h4>
                                <div><table class="tabla-pagos"><tbody><tr><td class="datos"><strong>Banco:</strong></td><td>Bancamiga.</td></tr><tr><td class="datos"><strong>Cuenta Cte:</strong></td><td>0172 0131 0113 1578 4742.</td></tr><tr><td class="datos"><strong>A nombre de:</strong></td><td style="line-height: 1;">Cuasiparroquia<br>Nuestra Se√±ora de Coromoto.</td></tr><tr><td class="datos"><strong>RIF:</strong></td><td>J - 505 929 760.</td></tr></tbody></table></div>
                            </div>
                            <div class="tarjeta-base tarjeta-contacto">
                                <h4 class="tarjeta-titulo">Pago M√≥vil</h4>
                                <div><table class="tabla-pagos"><tbody><tr><td class="datos"><strong>Banco: </strong></td><td>0172 (Bancamiga).</td></tr><tr><td class="datos"><strong>Identidad: </strong></td><td>504929760 (Comercio).</td></tr><tr><td class="datos"><strong>Tel√©fono: </strong></td><td>0414-2711341.</td></tr></tbody></table></div>
                                <p>¬°MUCH√çSIMAS GRACIAS!</p>
                                <p>¬°Dios les multiplique abundantemente!</p>
                            </div>
                        </div>
                        <button id="contactos-btn-prev" class="carrusel-boton" aria-label="M√©todo de pago anterior">‚Äπ</button>
                        <button id="contactos-btn-next" class="carrusel-boton" aria-label="Siguiente m√©todo de pago">‚Ä∫</button>
                        <div class="contactos-indicadores carrusel-indicadores"></div>
                    </div>
                </div>
            </div>
        </section>
    
        <!-- BOTONES FLOTANTES DE NAVEGACI√ìN -->
        <div id="botones-flotantes">
            <button id="boton-subir-seccion" class="boton-flotante oculto" aria-label="Ir a la secci√≥n anterior">
                ‚ñ≤
            </button>
            <button id="boton-bajar-seccion" class="boton-flotante" aria-label="Ir a la siguiente secci√≥n">
                ‚ñº
            </button>
        </div>
        
    </main>

    <!-- PIE DE P√ÅGINA -->
    <footer class="pie-pagina">
        <div class="contenedor-central">
            <p>
                DI√ìCESIS DE LOS TEQUES<br>
                VICAR√çA NUESTRA SE√ëORA DE LA ASUNCI√ìN<br>
                <strong>Cuasiparroquia Nuestra Se√±ora de Coromoto</strong><br>
                - 2025 -
            </p>
        </div>
    </footer>

    <!-- ================================================================== -->
    <!-- ELEMENTO PARA NOTIFICACI√ìN DE ACTUALIZACI√ìN (NUEVO) -->
    <!-- ================================================================== -->
    <div id="update-notification" class="notification-hidden">
        <p>¬°Hay una nueva versi√≥n disponible!</p>
        <button id="reload-button">Recargar</button>
    </div>


    <!-- SCRIPTS UNIFICADOS Y OPTIMIZADOS -->
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            // --- Carruseles ---
            function inicializarCarrusel(config) {
                const contenedor = document.querySelector(config.containerSelector);
                const btnPrev = document.getElementById(config.prevBtnId);
                const btnNext = document.getElementById(config.nextBtnId);
                const indicadoresContenedor = document.querySelector(config.indicatorsSelector);
                if (!contenedor || !indicadoresContenedor) return;
                let numSlides = 0;
                let slideWidth = 0;
                let currentIndex = 0;
                const setupCarousel = () => {
                    const esMovil = window.innerWidth <= 767;
                    const primerItem = contenedor.querySelector(':first-child');
                    if (!primerItem) return;
                    const gap = 16;
                    const containerWidth = contenedor.clientWidth;
                    const totalItems = contenedor.children.length;
                    if (esMovil) {
                        slideWidth = primerItem.offsetWidth + gap;
                        numSlides = totalItems;
                    } else {
                        slideWidth = containerWidth;
                        const itemsPerPage = 2;
                        numSlides = Math.ceil(totalItems / itemsPerPage);
                    }
                    const carruselContenedor = contenedor.closest('.carrusel-contenedor');
                    if (carruselContenedor) {
                        carruselContenedor.classList.toggle('no-scroll', numSlides <= 1);
                    }
                    indicadoresContenedor.innerHTML = '';
                    if (numSlides > 1) {
                        for (let i = 0; i < numSlides; i++) {
                            const dot = document.createElement('button');
                            dot.classList.add('carrusel-dot');
                            dot.setAttribute('aria-label', `Ir a la p√°gina ${i + 1}`);
                            dot.addEventListener('click', () => {
                                contenedor.scrollTo({ left: i * slideWidth, behavior: 'smooth' });
                            });
                            indicadoresContenedor.appendChild(dot);
                        }
                    }
                    updateIndicators();
                };
                const updateIndicators = () => {
                    const esMovil = window.innerWidth <= 767;
                    const primerItem = contenedor.querySelector(':first-child');
                    if (!primerItem) return;
                    const scrollUnit = esMovil ? (primerItem.offsetWidth + 16) : contenedor.clientWidth;
                    if (numSlides <= 1 || scrollUnit === 0) return;
                    currentIndex = Math.round(contenedor.scrollLeft / scrollUnit);
                    indicadoresContenedor.querySelectorAll('.carrusel-dot').forEach((dot, idx) => {
                        dot.classList.toggle('activo', idx === currentIndex);
                    });
                };
                btnPrev?.addEventListener('click', () => {
                    if (currentIndex === 0) {
                        contenedor.scrollTo({ left: contenedor.scrollWidth - contenedor.clientWidth, behavior: 'smooth' });
                    } else {
                        contenedor.scrollBy({ left: -slideWidth, behavior: 'smooth' });
                    }
                });
                btnNext?.addEventListener('click', () => {
                    if (currentIndex >= numSlides - 1) {
                        contenedor.scrollTo({ left: 0, behavior: 'smooth' });
                    } else {
                        contenedor.scrollBy({ left: slideWidth, behavior: 'smooth' });
                    }
                });
                let scrollTimer, resizeTimer;
                contenedor.addEventListener('scroll', () => {
                    clearTimeout(scrollTimer);
                    scrollTimer = setTimeout(updateIndicators, 150);
                });
                window.addEventListener('resize', () => {
                    clearTimeout(resizeTimer);
                    resizeTimer = setTimeout(setupCarousel, 250);
                });
                setupCarousel();
            }
            inicializarCarrusel({ containerSelector: '.contenedor-actividades', prevBtnId: 'carrusel-btn-prev', nextBtnId: 'carrusel-btn-next', indicatorsSelector: '.actividades-indicadores' });
            inicializarCarrusel({ containerSelector: '#horarios .contenedor-tarjetas', prevBtnId: 'horarios-btn-prev', nextBtnId: 'horarios-btn-next', indicatorsSelector: '.horarios-indicadores' });
            inicializarCarrusel({ containerSelector: '#sacramentos .contenedor-tarjetas', prevBtnId: 'sacramentos-btn-prev', nextBtnId: 'sacramentos-btn-next', indicatorsSelector: '.sacramentos-indicadores' });
            inicializarCarrusel({ containerSelector: '#apostolado .contenedor-tarjetas', prevBtnId: 'apostolado-btn-prev', nextBtnId: 'apostolado-btn-next', indicatorsSelector: '.apostolado-indicadores' });
            inicializarCarrusel({ containerSelector: '#contactos .subseccion .contenedor-tarjetas', prevBtnId: 'contactos-btn-prev', nextBtnId: 'contactos-btn-next', indicatorsSelector: '.contactos-indicadores' });
            inicializarCarrusel({ containerSelector: '#obras .contenedor-tarjetas', prevBtnId: 'obras-btn-prev', nextBtnId: 'obras-btn-next', indicatorsSelector: '.obras-indicadores' });

            // --- Botones flotantes de navegaci√≥n ---
            const secciones = Array.from(document.querySelectorAll('main .seccion'));
            const btnSubir = document.getElementById('boton-subir-seccion');
            const btnBajar = document.getElementById('boton-bajar-seccion');
            let indiceSeccionActual = 0;
            const actualizarBotones = () => {
                btnSubir?.classList.toggle('oculto', indiceSeccionActual === 0);
                btnBajar?.classList.toggle('oculto', indiceSeccionActual === secciones.length - 1);
            };
            if (secciones.length > 0) {
                const observer = new IntersectionObserver((entries) => {
                    entries.forEach(entry => {
                        if (entry.isIntersecting) {
                            indiceSeccionActual = secciones.indexOf(entry.target);
                            actualizarBotones();
                        }
                    });
                }, { threshold: 0.4 });
                secciones.forEach(seccion => observer.observe(seccion));
            }
            btnSubir?.addEventListener('click', () => {
                if (indiceSeccionActual > 0) {
                    secciones[indiceSeccionActual - 1].scrollIntoView({ behavior: 'smooth' });
                }
            });
            btnBajar?.addEventListener('click', () => {
                if (indiceSeccionActual < secciones.length - 1) {
                    secciones[indiceSeccionActual + 1].scrollIntoView({ behavior: 'smooth' });
                }
            });

            // --- Men√∫ hamburguesa ---
            const botonMenu = document.querySelector('.boton-hamburguesa');
            const navegacion = document.querySelector('.navegacion');
            const enlacesMenu = document.querySelectorAll('.navegacion a');
            const body = document.body;
            botonMenu?.addEventListener('click', () => {
                navegacion.classList.toggle('menu-abierto');
                botonMenu.classList.toggle('activo');
                body.classList.toggle('menu-abierto-body');
                botonMenu.setAttribute('aria-expanded', navegacion.classList.contains('menu-abierto'));
            });
            enlacesMenu.forEach(enlace => {
                enlace.addEventListener('click', () => {
                    if (navegacion.classList.contains('menu-abierto')) {
                        navegacion.classList.remove('menu-abierto');
                        botonMenu.classList.remove('activo');
                        body.classList.remove('menu-abierto-body');
                        botonMenu.setAttribute('aria-expanded', 'false');
                    }
                });
            });

            // --- Navegaci√≥n activa (PC) ---
            if (window.innerWidth > 767) {
                const navLinks = document.querySelectorAll('.navegacion a');
                const linkInicio = document.querySelector('.navegacion a[href="#inicio"]');
                linkInicio?.classList.add('activo');
                const observerOptions = { root: null, rootMargin: '0px', threshold: 0.50 };
                const observer = new IntersectionObserver((entries) => {
                    entries.forEach(entry => {
                        if (entry.isIntersecting) {
                            navLinks.forEach(link => link.classList.remove('activo'));
                            const id = entry.target.getAttribute('id');
                            document.querySelector(`.navegacion a[href="#${id}"]`)?.classList.add('activo');
                        }
                    });
                }, observerOptions);
                secciones.forEach(seccion => observer.observe(seccion));
            }
        });

        // --- Service Worker ---
        if ('serviceWorker' in navigator) {
            navigator.serviceWorker.register('sw.js');
        }

        // --- Bot√≥n instalar PWA ---
        function esDispositivoMovil() {
            if (navigator.userAgentData?.mobile) return true;
            if ('ontouchstart' in window) return true;
            if (window.matchMedia("(max-width: 767px)").matches) return true;
            return /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);
        }
        let deferredPrompt;
        const contenedorInstalar = document.getElementById('contenedor-instalar');
        const botonInstalar = document.getElementById('boton-instalar');
        window.addEventListener('beforeinstallprompt', (e) => {
            e.preventDefault();
            deferredPrompt = e;
            if (esDispositivoMovil() && contenedorInstalar) {
                contenedorInstalar.classList.add('visible');
            }
        });
        botonInstalar?.addEventListener('click', () => {
            contenedorInstalar.classList.remove('visible');
            if (deferredPrompt) {
                deferredPrompt.prompt();
                deferredPrompt.userChoice.then(() => { deferredPrompt = null; });
            }
        });

        // ==================================================================
        // ESCUCHAR MENSAJE DEL SERVICE WORKER PARA ACTUALIZAR (NUEVO)
        // ==================================================================
        navigator.serviceWorker.addEventListener('message', event => {
            if (event.data && event.data.type === 'NEW_VERSION_INSTALLED') {
                const notification = document.getElementById('update-notification');
                const reloadButton = document.getElementById('reload-button');
                
                notification.classList.remove('notification-hidden');
                
                reloadButton.addEventListener('click', () => {
                    window.location.reload();
                });
            }
        });
    </script>
</body>

</html>